(this.webpackJsonpDiscuss=this.webpackJsonpDiscuss||[]).push([[0],{146:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(17),i=a.n(o),l=(a(146),a(12)),r=a(225),s=a(58),d=a(236),u=a(235),j=a(230),b=a(249),p=a(246),h=a(226),m=a(117),x=a.n(m),g=a(233),f=a(68),O=a(8),v=a(19),y=a(118),C=a.n(y),N=a(237),k=a(126),S=a(231),w=a(248),T=a(234),D=a(232),I=a(222),B=a(167),L=a(227),R=a(228),E=a(229),z=a(113),U=a.n(z),A=a(114),M=a.n(A),G=a(116),P=a.n(G),W=a(47),F=(a(147),a(164),a(163),new W.a.auth.GoogleAuthProvider),H=W.a.initializeApp({apiKey:"AIzaSyD2gp_6szP2gMJCDUQf4rnT9rfrN8--lCA",authDomain:"discuss-42851.firebaseapp.com",projectId:"discuss-42851",storageBucket:"discuss-42851.appspot.com",messagingSenderId:"370663476028",appId:"1:370663476028:web:0eaeb9bb2c867926edec39",measurementId:"G-B1G3P5J7SP"}).firestore(),J=W.a.auth(),q=W.a.storage(),_=a(23),Y=a(112),K=a(115),Q=a(224),V=a(216),X=a(223),Z=a(220),$=a(244),ee=a(219),te=a(4);var ae=function(e){var t=e.create,a=e.manage,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(""),d=Object(l.a)(s,2),u=d[0],j=d[1],b=function(){r(!1),a()},p=function(e){e.preventDefault(),u&&(t(u),a())};return Object(te.jsx)("div",{children:Object(te.jsxs)(V.a,{open:i,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(te.jsx)(ee.a,{id:"alert-dialog-title",children:"Create A New Group"}),Object(te.jsx)(Z.a,{children:Object(te.jsx)("form",{autoComplete:"off",onSubmit:p,children:Object(te.jsx)($.a,{id:"outlined-basic",label:"Enter Group Name",fullWidth:!0,margin:"normal",variant:"outlined",required:!0,value:u,style:{backgroundColor:"rgb(45 45 73)",borderRadius:"5px"},onChange:function(e){j(e.target.value)}})})}),Object(te.jsxs)(X.a,{children:[Object(te.jsx)(Q.a,{onClick:b,color:"primary",style:{color:"white"},children:"Cancel"}),Object(te.jsx)(Q.a,{onClick:function(e){p(e)},type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Create"})]})]})})},ne=a(128),ce=a(247),oe=a(83),ie=a.n(oe),le=Object(r.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},iconDesign:{fontSize:"1.5em",color:"white"},primary:{color:"grey"}}}));var re=function(){var e=le(),t=c.a.useState(!0),a=Object(l.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),d=s[0],u=s[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),m=p[0],x=p[1],g=Object(_.f)(),f=Object(n.useState)(!1),O=Object(l.a)(f,2),v=O[0],y=O[1];Object(n.useEffect)((function(){H.collection("channels").orderBy("channelName","asc").onSnapshot((function(e){u(e.docs.map((function(e){return{channelName:e.data().channelName,id:e.id}})))}))}),[]);var C=function(){x(!m)},N=function(){y(!v)};return Object(te.jsxs)("div",{children:[Object(te.jsx)(ce.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:v,onClose:N,TransitionComponent:ne.a,message:"Room Name Already Exits!!",action:Object(te.jsx)(h.a,{"aria-label":"close",color:"inherit",onClick:N,children:Object(te.jsx)(ie.a,{})})},ne.a),m?Object(te.jsx)(ae,{create:function(e){if(e){if(""===(e=e.toLowerCase().trim()))return void N();for(var t=0;t<d.length;t++)if(e===d[t].channelName)return void N();H.collection("channels").add({channelName:e.toLowerCase()}).then((function(e){console.log("added new channel")})).then((function(e){console.log(e)}))}},manage:C}):null,Object(te.jsxs)(I.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[Object(te.jsxs)(B.a,{button:!0,onClick:function(){i(!o)},children:[Object(te.jsx)(L.a,{children:Object(te.jsx)(Y.a,{className:e.iconDesign})}),Object(te.jsx)(R.a,{primary:"GROUPS",style:{color:"white"}}),o?Object(te.jsx)(U.a,{className:e.primary}):Object(te.jsx)(M.a,{className:e.primary})]}),Object(te.jsx)(E.a,{in:o,timeout:"auto",children:Object(te.jsx)(I.a,{component:"div",disablePadding:!0,children:d.map((function(t){return Object(te.jsxs)(B.a,{button:!0,className:e.nested,onClick:function(){return e=t.id,void g.push("/channel/".concat(e));var e},children:[Object(te.jsx)(L.a,{style:{minWidth:"30px"},children:Object(te.jsx)(K.a,{className:e.iconDesign,style:{color:"#b9bbbe"}})}),Object(te.jsx)(R.a,{primary:t.channelName===t.channelName.substr(0,12)?t.channelName:"".concat(t.channelName.substr(0,12),"..."),style:{color:"#dcddde"}})]},t.id)}))})})]}),Object(te.jsx)(j.a,{}),Object(te.jsxs)(B.a,{style:{paddingTop:0,paddingBottom:0},children:[Object(te.jsx)(R.a,{primary:"Create new Group"}),Object(te.jsx)(h.a,{edge:"end","aria-label":"add",onClick:C,children:Object(te.jsx)(P.a,{className:e.primary})})]})]})},se=a(46);var de=function(e){var t=e.toggler,a=e.alert,c=Object(n.useState)(!0),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(""),d=Object(l.a)(s,2),u=d[0],j=d[1],b=Object(n.useState)(""),p=Object(l.a)(b,2),h=p[0],m=p[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),f=g[0],O=g[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),C=y[0],N=y[1],k=function(){r(!1),t()};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userDetails"));j(e.name),m(e.displayName),O(e.email),N(e.uid)}),[]),Object(te.jsx)("div",{children:Object(te.jsxs)(V.a,{open:i,onClose:k,"aria-labelledby":"form-dialog-title",children:[Object(te.jsx)(ee.a,{id:"form-dialog-title",children:"Edit User Profile"}),Object(te.jsx)(Z.a,{children:Object(te.jsxs)("form",{autoComplete:"off",children:[Object(te.jsx)($.a,{id:"outlined-basic",label:"Name",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:u,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object(te.jsx)($.a,{id:"outlined-basic",label:"Email",fullWidth:!0,margin:"normal",variant:"outlined",disabled:!0,value:f,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px",color:"#a6a6a6"}}),Object(te.jsx)($.a,{id:"outlined-basic",label:"Display Name",fullWidth:!0,margin:"normal",variant:"outlined",value:h,style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:function(e){m(e.target.value)}})]})}),Object(te.jsxs)(X.a,{children:[Object(te.jsx)(Q.a,{onClick:k,style:{color:"white"},children:"Cancel"}),Object(te.jsx)(Q.a,{onClick:function(e){return function(e){e.preventDefault(),H.collection("users").doc(C).update({displayName:h}).then((function(e){a()})).catch((function(e){console.log(e)})),r(!1),t()}(e)},color:"primary",variant:"contained",children:"Update"})]})]})})},ue=240,je=Object(O.a)((function(e){return{badge:{backgroundColor:"#90ee90 ",color:"1e1e1e",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(S.a),be=Object(r.a)((function(e){var t;return{root:{display:"flex"},avatarGrid:{paddingTop:"20px",paddingLeft:"5px",paddingBottom:"20px",color:"#dcddde"},avatarIcon:{display:"flex",paddingLeft:"10px",paddingRight:"10px"},avatarName:{fontSize:"1em",paddingLeft:"12px",paddingTop:"8px"},avatarDisplayName:{alignSelf:"center",paddingLeft:"10px",fontWeight:"600"},purple:{color:e.palette.getContrastText(D.a[500]),backgroundColor:"#3f51b5"},drawer:Object(s.a)({},e.breakpoints.up("sm"),{width:ue,flexShrink:0}),appBar:(t={},Object(s.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(ue,"px)"),marginLeft:ue}),Object(s.a)(t,"backgroundColor","#2d2d30"),Object(s.a)(t,"color","#dcddde"),Object(s.a)(t,"boxShadow","0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);"),t),menuButton:Object(s.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:ue,backgroundColor:"#2d2d30",color:"white"},sideToolBar:{backgroundColor:"#2d2d30",color:"#fff",lineHeight:1.6,boxShadow:"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);",minHeight:"50px"},sideToolBarText:{letterSpacing:"0.2em",fontWeight:"900"},title:{flexGrow:1}}}));var pe=function(e){var t=e.window,a=e.uid,o=be(),i=Object(v.a)(),r=c.a.useState(!1),s=Object(l.a)(r,2),m=s[0],O=s[1],y=c.a.useState(null),S=Object(l.a)(y,2),D=S[0],I=S[1],B=Object(n.useState)([]),L=Object(l.a)(B,2),R=L[0],E=L[1],z=Object(n.useState)(!1),U=Object(l.a)(z,2),A=U[0],M=U[1],G=Object(n.useState)(!1),P=Object(l.a)(G,2),W=P[0],F=P[1],q=Boolean(D);Object(n.useEffect)((function(){H.collection("users").doc(a).onSnapshot((function(e){E(e.data()),localStorage.setItem("userDetails",JSON.stringify(e.data()))}))}),[a]);var _=function(){O(!m)},Y=function(){F(!W)},K=R&&Object(te.jsxs)("div",{children:[Object(te.jsx)(g.a,{className:o.sideToolBar,children:Object(te.jsx)(f.a,{variant:"h6",className:o.sideToolBarText,children:"DISCUSS"})}),Object(te.jsx)(j.a,{}),Object(te.jsx)(re,{}),Object(te.jsx)(j.a,{}),Object(te.jsxs)(T.a,{className:o.avatarGrid,children:[Object(te.jsxs)("div",{className:o.avatarIcon,children:[Object(te.jsx)(je,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(te.jsx)(w.a,{alt:R.name,src:R.photoURL,className:o.purple})}),Object(te.jsx)(f.a,{variant:"h6",className:o.avatarDisplayName,children:R.displayName})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)(f.a,{variant:"h4",className:o.avatarName,children:R.name}),Object(te.jsx)(f.a,{variant:"h4",className:o.avatarName,children:R.email})]})]}),Object(te.jsx)(j.a,{})]}),Q=void 0!==t?function(){return t().document.body}:void 0;return Object(te.jsxs)("div",{className:o.root,children:[Object(te.jsx)(u.a,{}),Object(te.jsx)(ce.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:W,onClose:Y,TransitionComponent:ne.a,message:"Display Name Updated Successfully",action:Object(te.jsx)(h.a,{"aria-label":"close",color:"inherit",onClick:Y,children:Object(te.jsx)(ie.a,{})})},ne.a),A?Object(te.jsx)(de,{toggler:function(){M(!A)},alert:Y}):null,Object(te.jsx)(d.a,{position:"fixed",className:o.appBar,children:Object(te.jsxs)(g.a,{style:{minHeight:"50px"},children:[Object(te.jsx)(h.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:_,className:o.menuButton,children:Object(te.jsx)(x.a,{})}),Object(te.jsx)(f.a,{variant:"h6",className:o.title,children:Object(te.jsx)(se.b,{to:"/",style:{textDecoration:"none",color:"#dcddde"},children:"Go to Dashboard"})}),Object(te.jsxs)("div",{children:[Object(te.jsx)(h.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){I(e.currentTarget)},color:"inherit",children:Object(te.jsx)(C.a,{})}),Object(te.jsx)(k.a,{id:"menu-appbar",anchorEl:D,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:q,onClose:function(){I(null)},children:Object(te.jsx)(N.a,{onClick:function(){J.signOut().then((function(){console.log("signed out"),localStorage.clear()})).catch((function(e){console.log(e)}))},children:"\xa0 Sign Out from Discuss"})})]})]})}),Object(te.jsxs)("nav",{className:o.drawer,"aria-label":"chat rooms",children:[Object(te.jsx)(p.a,{smUp:!0,implementation:"css",children:Object(te.jsx)(b.a,{container:Q,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:m,onClose:_,classes:{paper:o.drawerPaper},ModalProps:{keepMounted:!0},children:K})}),Object(te.jsx)(p.a,{xsDown:!0,implementation:"css",children:Object(te.jsx)(b.a,{classes:{paper:o.drawerPaper},variant:"permanent",open:!0,children:K})})]})]})},he=a(38),me=a(238);var xe=function(e){var t=e.msgId,a=e.text,c=e.deleteMsg,o=e.handleModal,i=e.postImg,r=Object(n.useState)(!0),s=Object(l.a)(r,2),d=s[0],u=s[1],j=function(){u(!1),o()};return Object(te.jsx)("div",{children:Object(te.jsxs)(V.a,{open:d,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(te.jsx)(ee.a,{id:"alert-dialog-title",children:"Are you sure you want to delete the message?"}),Object(te.jsxs)(Z.a,{children:[Object(te.jsx)(me.a,{id:"alert-dialog-description",style:{color:"white",fontSize:"1.2rem"},children:a}),i?Object(te.jsx)("img",{src:i,alt:"img",style:{height:"200px",width:"250px",borderRadius:"4px"}}):null]}),Object(te.jsxs)(X.a,{children:[Object(te.jsx)(Q.a,{onClick:j,style:{color:"white"},children:"Cancel"}),Object(te.jsx)(Q.a,{onClick:function(){c(t),o()},color:"primary",autoFocus:!0,variant:"contained",children:"Delete"})]})]})})},ge=a(119),fe=Object(r.a)((function(e){return{root:{flexGrow:1,position:"relative",padding:"8px"},paper:{padding:"10px","&:hover":{backgroundColor:"#2d2d30"}},avatar:{display:"inline-block",verticalAlign:"top"},chat:{display:"inline-block",paddingLeft:"1rem",width:"calc(100% - 50px)",wordBreak:"break-all"},chatHeading:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",fontSize:"1rem",fontWeight:"600",color:"white"},chatTimming:{marginBlockStart:0,marginBlockEnd:0,display:"inline-block",paddingLeft:"0.5em",color:"white"},chatText:{color:"#dcddde"},purple:{color:e.palette.getContrastText("#1e1e1e"),backgroundColor:"#2d2d30"},emojiDiv:{position:"absolute",right:0,top:0},emojiDivInner:{position:"absolute",right:0,padding:"0 35px 0 32px"},emojiBtn:{fontSize:"1.1rem",color:"rgb(255 195 54)"},allEmoji:{backgroundColor:"#2d2e31ba",borderRadius:"5px",paddingLeft:"2px",paddingRight:"2px",display:"flex"},countEmojiBtn:{padding:"3px",borderRadius:"4px",fontSize:"0.8em",backgroundColor:"#ffffff4a",color:"#cacaca",paddingLeft:"5px",paddingRight:"5px","&:hover":{backgroundColor:"#ffffff4a",color:"#e7e7e7"}}}}));var Oe=function(e){var t=e.values,a=e.msgId,c=Object(n.useState)({display:"none"}),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(n.useState)(!1),d=Object(l.a)(s,2),u=d[0],j=d[1],b=fe(),p=JSON.parse(localStorage.getItem("userDetails")).uid,m=t.uid,x=t.timestamp.toDate(),g=x.getDate(),f=x.getFullYear(),O=x.getMonth(),v=x.getHours(),y=x.getMinutes(),C="".concat(g,"/").concat(O,"/").concat(f,"   ").concat(v,":").concat(y),N=t.likeCount,k=t.fireCount,S=t.heartCount,D=t.likes[p],I=t.fire[p],B=t.heart[p],L=t.postImg,R=Object(_.g)().id,E=D?{color:"#8ff879",backgroundColor:"#545454"}:null,z=B?{color:"#ff527d",backgroundColor:"#545454"}:null,U=I?{color:"#ffc336",backgroundColor:"#545454"}:null,A=function(){j(!u)},M=function(){var e=H.collection("channels").doc(R).collection("messages").doc(a);return B?H.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().heartCount-1,c=a.data().heart?a.data().heart:{};c[p]=!1,t.update(e,{heartCount:n,heart:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):H.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().heartCount+1,c=a.data().heart?a.data().heart:{};c[p]=!0,t.update(e,{heartCount:n,heart:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))},G=function(){var e=H.collection("channels").doc(R).collection("messages").doc(a);return I?H.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().fireCount-1,c=a.data().fire?a.data().fire:{};c[p]=!1,t.update(e,{fireCount:n,fire:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):H.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().fireCount+1,c=a.data().fire?a.data().fire:{};c[p]=!0,t.update(e,{fireCount:n,fire:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))},P=function(){var e=H.collection("channels").doc(R).collection("messages").doc(a);return D?H.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().likeCount-1,c=a.data().likes?a.data().likes:{};c[p]=!1,t.update(e,{likeCount:n,likes:c})}else console.log("doc not found")}))})).then((function(){console.log("Disiked")})).catch((function(e){console.log(e)})):H.runTransaction((function(t){return t.get(e).then((function(a){if(a){var n=a.data().likeCount+1,c=a.data().likes?a.data().likes:{};c[p]=!0,t.update(e,{likeCount:n,likes:c})}else console.log("doc not found")}))})).then((function(){console.log("Liked")})).catch((function(e){console.log(e)}))};return Object(te.jsxs)(T.a,{item:!0,xs:12,className:b.root,children:[u?Object(te.jsx)(xe,{msgId:a,text:t.text,postImg:L,deleteMsg:function(e){H.collection("channels").doc(R).collection("messages").doc(e).delete().then((function(e){console.log("deleted successfully")})).catch((function(e){console.log(e)}))},handleModal:A}):null,Object(te.jsxs)("div",{className:b.paper,onMouseEnter:function(e){r({display:"block"})},onMouseLeave:function(e){r({display:"none"})},children:[Object(te.jsx)("div",{className:b.avatar,children:Object(te.jsx)(w.a,{alt:t.userName,src:t.userImg,className:b.purple})}),Object(te.jsxs)("div",{className:b.chat,children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("h6",{className:b.chatHeading,children:t.userName}),Object(te.jsx)("p",{className:b.chatTimming,children:C})]}),Object(te.jsx)("div",{className:b.chatText,children:t.text.split("\n").map((function(e,t){return Object(te.jsx)("div",{children:Object(te.jsx)(ge.a,{target:"_blank",rel:"noreferrer noopener",children:e})},t)}))}),Object(te.jsx)(T.a,{item:!0,xs:12,md:12,style:{paddingTop:"5px"},children:L?Object(te.jsx)("img",{src:L,alt:"user",style:{height:"30vh",width:"auto",borderRadius:"4px"}}):null}),Object(te.jsxs)("div",{style:{paddingTop:"5px",display:"flex"},children:[N>0?Object(te.jsx)("div",{style:{padding:"3px"},children:Object(te.jsxs)(h.a,{component:"span",onClick:P,className:b.countEmojiBtn,style:E,children:[Object(te.jsx)(he.d,{}),Object(te.jsx)("div",{style:{paddingLeft:"2px"},children:N})]})}):null,k>0?Object(te.jsx)("div",{style:{padding:"3px"},children:Object(te.jsxs)(h.a,{component:"span",onClick:G,className:b.countEmojiBtn,style:U,children:[Object(te.jsx)(he.b,{}),Object(te.jsx)("div",{style:{paddingLeft:"2px"},children:k})]})}):null,S>0?Object(te.jsx)("div",{style:{padding:"3px"},children:Object(te.jsxs)(h.a,{component:"span",onClick:M,className:b.countEmojiBtn,style:z,children:[Object(te.jsx)(he.c,{}),Object(te.jsx)("div",{style:{paddingLeft:"2px"},children:S})]})}):null]})]}),Object(te.jsx)("div",{className:b.emojiDiv,style:i,children:Object(te.jsx)("div",{className:b.emojiDivInner,children:Object(te.jsxs)("div",{className:b.allEmoji,children:[Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:P,children:Object(te.jsx)(he.d,{className:b.emojiBtn})}),Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:G,children:Object(te.jsx)(he.b,{className:b.emojiBtn})}),Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:M,children:Object(te.jsx)(he.c,{className:b.emojiBtn})}),p===m?Object(te.jsx)(h.a,{component:"span",style:{padding:"4px"},onClick:A,children:Object(te.jsx)(he.a,{className:b.emojiBtn,color:"#c3c3c3f0"})}):null]})})})]})]})},ve=a(120),ye=a(121),Ce=a(123),Ne=a(122),ke=a(125),Se=a(239),we=a(245),Te=Object(r.a)((function(e){return{displayImage:{height:"105px",width:"180px"},imageName:{paddingLeft:"15px",fontSize:"1.3em"},imageDiv:{marginLeft:"16px",marginRight:"16px",marginTop:"-33px"}}}));var De=function(e){var t=e.setState,a=e.file,c=Object(_.g)(),o=Te(),i=Object(n.useState)(!0),r=Object(l.a)(i,2),s=r[0],d=r[1],u=Object(n.useState)(0),j=Object(l.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)({display:"none"}),m=Object(l.a)(h,2),x=m[0],g=m[1],O=Object(n.useState)(""),v=Object(l.a)(O,2),y=v[0],C=v[1],N=function(){d(!1),t()},k=URL.createObjectURL(a),S=function(e){e.preventDefault(),g({display:"block"});var t=q.ref("images/".concat(a.name)).put(a);t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;p(t)}),(function(e){console.log(e)}),(function(){t.snapshot.ref.getDownloadURL().then((function(e){!function(e){if(c.id){var t=JSON.parse(localStorage.getItem("userDetails"));if(t){var a=t.displayName,n=t.photoURL,o=t.uid,i=e,l={text:y,timestamp:W.a.firestore.Timestamp.now(),userImg:n,userName:a,uid:o,likeCount:0,likes:{},fireCount:0,fire:{},heartCount:0,heart:{},postImg:i};H.collection("channels").doc(c.id).collection("messages").add(l).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}C("")}}(e)})),N()}))};return Object(te.jsx)("div",{children:Object(te.jsxs)(V.a,{open:s,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(te.jsxs)("div",{className:o.imageDiv,children:[Object(te.jsx)("img",{src:k,alt:a.name,className:o.displayImage}),Object(te.jsx)(f.a,{className:o.imageName,children:a.name})]}),Object(te.jsx)(ee.a,{id:"alert-dialog-title",children:"Upload Image"}),Object(te.jsxs)(Z.a,{children:[Object(te.jsx)("form",{autoComplete:"off",onSubmit:function(e){S(e)},children:Object(te.jsx)($.a,{id:"outlined-basic",label:"Add A Message",fullWidth:!0,margin:"normal",variant:"outlined",style:{backgroundColor:"rgb(45, 45, 73)",borderRadius:"5px"},onChange:function(e){C(e.target.value)}})}),Object(te.jsx)("div",{style:x,children:Object(te.jsxs)(we.a,{display:"flex",alignItems:"center",children:[Object(te.jsx)(we.a,{width:"100%",mr:1,children:Object(te.jsx)(Se.a,{variant:"determinate",value:b})}),Object(te.jsx)(we.a,{minWidth:35,children:Object(te.jsxs)(f.a,{variant:"body2",children:[Math.round(b),"%"]})})]})})]}),Object(te.jsxs)(X.a,{children:[Object(te.jsx)(Q.a,{onClick:N,style:{color:"white"},children:"Cancel"}),Object(te.jsx)(Q.a,{type:"submit",onClick:function(e){return S(e)},color:"primary",autoFocus:!0,variant:"contained",children:"Upload"})]})]})})},Ie=(a(160),Object(r.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#1e1e1e"},chat:{position:"relative",height:"calc(100vh - 200px)",paddingLeft:"10px",paddingBottom:"5px",paddingTop:"5px"},footer:{paddingRight:"15px",paddingLeft:"15px",paddingTop:"10px"},message:{width:"100%",color:"white"},roomName:{border:"1px solid #0000004a",borderLeft:0,borderRight:0,padding:"15px",display:"flex",color:"#e5e5e5"},roomNameText:{marginBlockEnd:0,marginBlockStart:0,paddingLeft:"5px"},iconDesign:{fontSize:"1.5em",color:"#e5e5e5"},footerContent:{display:"flex",backgroundColor:"#2d2d30",borderRadius:"5px",alignItems:"center"},inputFile:{display:"none"}}})));var Be=function(){var e=Ie(),t=Object(_.g)(),a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),d=s[0],u=s[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),p=b[0],m=b[1],x=Object(n.useState)(!1),g=Object(l.a)(x,2),f=g[0],O=g[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),C=y[0],N=y[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),w=S[0];S[1],Object(n.useEffect)((function(){t.id&&(H.collection("channels").doc(t.id).onSnapshot((function(e){u(e.data().channelName)})),H.collection("channels").doc(t.id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})))}),[t]);var D=function(){N(!C)};return Object(te.jsxs)("div",{className:e.root,children:[C?Object(te.jsx)(De,{setState:D,file:w}):null,Object(te.jsxs)(T.a,{item:!0,xs:12,className:e.roomName,children:[Object(te.jsx)(ye.a,{className:e.iconDesign}),Object(te.jsx)("h3",{className:e.roomNameText,children:d})]}),Object(te.jsx)(T.a,{item:!0,xs:12,className:e.chat,children:Object(te.jsx)(ve.a,{children:o.map((function(e){return Object(te.jsx)(Oe,{values:e.data,msgId:e.id},e.id)}))})}),Object(te.jsx)("div",{className:e.footer,children:Object(te.jsxs)(T.a,{item:!0,xs:12,className:e.footerContent,children:[Object(te.jsx)(h.a,{color:"primary",component:"button",onClick:function(){return O(!f)},children:Object(te.jsx)(Ne.a,{style:{color:"#b9bbbe"}})}),f?Object(te.jsx)(ke.a,{onSelect:function(e){m(p+e.native)},theme:"dark"}):null,Object(te.jsxs)("form",{autoComplete:"off",style:{width:"100%",display:"flex"},onSubmit:function(e){return function(e){if(e.preventDefault(),p&&t.id){var a=JSON.parse(localStorage.getItem("userDetails"));if(a){var n=a.displayName,c=a.photoURL,o=a.uid,i={text:p,timestamp:W.a.firestore.Timestamp.now(),userImg:c,userName:n,uid:o,likeCount:0,likes:{},fireCount:0,fire:{},heartCount:0,heart:{},postImg:null};H.collection("channels").doc(t.id).collection("messages").add(i).then((function(e){console.log("message sent")})).catch((function(e){console.log(e)}))}m(""),O(!1)}}(e)},children:[Object(te.jsx)($.a,{className:e.message,required:!0,id:"outlined-basic",label:"Enter Message",variant:"outlined",multiline:!0,rows:1,rowsMax:2,value:p,onChange:function(e){m(e.target.value)}}),Object(te.jsx)(h.a,{type:"submit",component:"button",children:Object(te.jsx)(Ce.a,{style:{color:"#b9bbbe"}})})]})]})})]})},Le=a(124),Re=a(240),Ee=a.p+"static/media/Telegram.bbca961d.png",ze=Object(r.a)((function(e){return{root:{color:"white"},paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:"25px",paddingTop:"35px"},mainImg:{width:"75%",height:"auto"},submit:{margin:e.spacing(3,0,2),color:"#d9d9d9"}}}));var Ue=function(){var e=ze();return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(Re.a,{component:"div",maxWidth:"xs",className:e.root,children:Object(te.jsxs)("div",{className:e.paper,children:[Object(te.jsx)("img",{src:Ee,className:e.mainImg,alt:"signup img"}),Object(te.jsx)(f.a,{variant:"h4",style:{paddingTop:"15px"},children:"Welcome To Discuss"}),Object(te.jsx)(Q.a,{variant:"outlined",color:"primary",className:e.submit,startIcon:Object(te.jsx)(Le.a,{}),onClick:function(){J.signInWithPopup(F).then((function(e){console.log("Success")})).catch((function(e){console.log(e)}))},children:"Sign In With Google"})]})}),Object(te.jsx)("div",{style:{paddingTop:"15px",color:"white",textAlign:"center"},children:"Note: Summer Industrial Training Project created by UE198046, BE IT 6th"})]})},Ae=a(241),Me=a(242),Ge=a(243),Pe=Object(r.a)((function(e){return{root:{paddingTop:"50px",paddingBottom:"25px",color:"#f0f0f0",backgroundColor:"#1e1e1e !important"},heading:{fontSize:"2.2em",fontWeight:"700"},subHeading:{fontSize:"1.6em"},channelDiv:{padding:"15px"},channelContent:{display:"flex",flexDirection:"column",textAlign:"center",padding:"20px",alignItems:"center"},square:{height:"80px",width:"80px",backgroundColor:"#1e1e1e",fontSize:"2rem"},rootChannel:{height:"calc(100vh - 185px)",position:"relative",padding:"15px",overflowY:"scroll",backgroundColor:"#1e1e1e !important"},channelText:{paddingTop:"10px",fontSize:"1.2rem"},channelCard:{backgroundColor:"#2d2d30",boxShadow:"0px 3px 4px -1px rgb(0 0 0 / 17%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)",color:"rgb(220, 221, 222)"}}}));var We=function(){var e=Pe(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(_.f)();return Object(n.useEffect)((function(){H.collection("channels").orderBy("channelName","asc").onSnapshot((function(e){o(e.docs.map((function(e){return{channelName:e.data().channelName,id:e.id}})))}))}),[]),Object(te.jsxs)("div",{style:{backgroundColor:"rgb(34 39 59)"},children:[Object(te.jsx)(T.a,{container:!0,className:e.root,children:Object(te.jsx)(T.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(te.jsx)(f.a,{component:"h4",className:e.subHeading,children:"Available Groups"})})}),Object(te.jsx)(T.a,{container:!0,className:e.rootChannel,children:c.map((function(t){return Object(te.jsx)(T.a,{item:!0,xs:6,md:3,className:e.channelDiv,children:Object(te.jsx)(Ae.a,{className:e.channelCard,children:Object(te.jsx)(Me.a,{style:{display:"flex"},onClick:function(){return e=t.id,void i.push("/channel/".concat(e));var e},children:Object(te.jsxs)(Ge.a,{className:e.channelContent,children:[Object(te.jsx)(w.a,{variant:"square",className:e.square,style:{backgroundColor:"#6a9ec066"},children:t.channelName.substr(0,1).toUpperCase()}),Object(te.jsx)(f.a,{className:e.channelText,children:t.channelName})]})})})},t.id)}))})]})},Fe=(a(161),Object(r.a)((function(e){return{root:{display:"flex",backgroundColor:"#1e1e1e !important"},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:"#2d2d30 !important",height:"100vh"}}})));var He=function(){var e=Fe(),t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){J.onAuthStateChanged((function(e){e?(H.collection("users").doc(e.uid).get().then((function(t){if(t.exists)console.log("user exits");else{var a={name:e.displayName,displayName:e.displayName.split(" ")[0],photoURL:e.photoURL,email:e.email,uid:e.uid};H.collection("users").doc(e.uid).set(a).then((function(e){console.log("new user created")})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)})),o(e.uid)):o(null)}))}),[]),Object(te.jsx)("div",{className:"App",children:Object(te.jsx)(se.a,{children:c?Object(te.jsxs)("div",{className:e.root,children:[Object(te.jsx)(pe,{uid:c}),Object(te.jsxs)("main",{className:e.content,children:[Object(te.jsx)("div",{className:e.toolbar,style:{minHeight:"50px"}}),Object(te.jsxs)(_.c,{children:[Object(te.jsx)(_.a,{path:"/",exact:!0,children:Object(te.jsx)(We,{})}),Object(te.jsx)(_.a,{path:"/channel/:id",children:Object(te.jsx)(Be,{})})]})]})]}):Object(te.jsx)(Ue,{})})})},Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,251)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),o(e),i(e)}))};i.a.render(Object(te.jsx)(c.a.StrictMode,{children:Object(te.jsx)(He,{})}),document.getElementById("root")),Je()}},[[162,1,2]]]);
//# sourceMappingURL=main.8f2ad369.chunk.js.map